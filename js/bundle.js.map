{"version":3,"sources":["webpack/bootstrap dda6c4dd7cbc63bf4ad9","./js/main.js","./js/view.js","./js/snake.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;;;AAGA;AACA;AACA,EAAC;;;;;;;ACLD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA,kBAAiB,kBAAkB;AACnC;AACA,oBAAmB,kBAAkB;AACrC;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,IAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;AC5GA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;;;AAGA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAU;AACV;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/js/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap dda6c4dd7cbc63bf4ad9\n **/","var View = require('./view');\n\n\n$(function () {\n  var snakeGame = new View($(\".snake\"));\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/main.js\n ** module id = 0\n ** module chunks = 0\n **/","var Board = require(\"./snake\");\n\nvar View = function($el){\n  this.SIZE = [20,20];\n  this.domObj = $el;\n  this.board = new Board(this.SIZE);\n  this.loop = null;\n  this.setupDOMObj();\n  this.bindEvents();\n\n\n};\n\nView.prototype.setupDOMObj = function () {\n  for (var i = 0; i < this.SIZE[0]; i++) {\n    this.domObj.append(\"<ul class='row' data-row='\"+i+\"'></ul>\");\n    for (var j = 0; j < this.SIZE[1]; j++) {\n      $(\"ul[data-row=\"+i+\"]\")\n        .append(\"<li class='col' data-pos='\"+[i,j]+\"'></li>\");\n    }\n  }\n\n  $(\".start-game\").after(\"<p class='score'>Score: </p>\");\n};\n\nView.prototype.step = function () {\n  try{\n    var boardInfo = this.board.render();\n\n  }catch(e){\n    clearInterval(this.loop);\n    alert(e.message);\n    this.loop = null;\n    return;\n  }\n\n  var snake1 = boardInfo.snakeone;\n  var snake2 = boardInfo.snaketwo;\n  var apple = boardInfo.apple;\n  $(\".segment1\").removeClass(\"segment1\");\n  $(\".segment2\").removeClass(\"segment2\");\n  $(\".apple\").text(\"\");\n  $(\".apple\").removeClass(\"apple\");\n\n  snake1.forEach(function(pos){\n    $(\"li[data-pos='\"+pos[1]+\",\"+pos[0]+\"']\").addClass(\"segment1\");\n  });\n\n  snake2.forEach(function(pos){\n    $(\"li[data-pos='\"+pos[1]+\",\"+pos[0]+\"']\").addClass(\"segment2\");\n  });\n\n  $(\"li[data-pos='\"+apple[1]+\",\"+apple[0]+\"']\").addClass(\"apple\");\n  $(\".apple\").text(\"\\ud83c\\udf4e\");\n\n  $(\".score\").text(this.board.score);\n};\n\nView.prototype.bindEvents = function () {\n  var view = this;\n  $(\".start-game\").on(\"click\", function(e){\n    e.preventDefault();\n    if(view.loop === null){\n      view.board.reset();\n      view.loop = setInterval(view.step.bind(view), 250);\n    }\n  });\n  $(\".snake\").focus();\n  $(window).on(\"keydown\", function(e){\n    // console.log(e.keyCode);\n    view.handleKeyPress(e.keyCode);\n  });\n};\n\nView.prototype.handleKeyPress = function (keyCode) {\n  var direction = \"\";\n  switch (keyCode)\n  {\n    case 38:\n      direction = \"N\";\n      break;\n    case 40:\n      direction = \"S\";\n      break;\n    case 39:\n      direction = \"E\";\n      break;\n    case 37:\n      direction = \"W\";\n      break;\n\n    case 87:\n      direction = \"up\";\n      break;\n    case 65:\n      direction = \"left\";\n      break;\n    case 83:\n      direction = \"down\";\n      break;\n    case 68:\n      direction = \"right\";\n      break;\n  }\n\n  this.board.move(direction);\n};\n\nmodule.exports = View;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/view.js\n ** module id = 1\n ** module chunks = 0\n **/","var Snake = function(pos){\n  this.direction = \"N\";\n  this.segments = [pos];\n  this.turnsToGrow = 0;\n};\n\nSnake.prototype.move = function () {\n  var head = this.segments[0];\n  var segment = [];\n  switch (this.direction)\n  {\n    case \"N\":\n      segment = [head[0],head[1] - 1];\n      break;\n    case \"up\":\n      segment = [head[0],head[1] - 1];\n      break;\n    case \"S\":\n      segment = [head[0],head[1] + 1];\n      break;\n    case \"down\":\n      segment = [head[0],head[1] + 1];\n      break;\n    case \"E\":\n      segment = [head[0] + 1, head[1]];\n      break;\n    case \"right\":\n      segment = [head[0] + 1, head[1]];\n      break;\n    case \"W\":\n      segment = [head[0] - 1,head[1]];\n      break;\n    case \"left\":\n      segment = [head[0] - 1,head[1]];\n      break;\n  }\n\n  this.segments.unshift(segment);\n  if (this.turnsToGrow > 0){\n    this.turnsToGrow--;\n  }else{\n    this.segments.pop(1);\n  }\n\n};\n\nSnake.prototype.turn = function (direction) {\n  this.direction = direction;\n};\n\nSnake.prototype.harakiri = function () {\n  var head = this.segments[0];\n  this.segments.forEach(function(el, idx){\n    if(idx > 0){\n      if(head[0] === el[0] && head[1] === el[1]){\n        throw new Error(\"Snake dead!\");\n      }\n    }\n  });\n  return false;\n};\n\n\nSnake.prototype.grow = function () {\n  this.turnsToGrow += 2;\n};\n\n\nvar Board = function(size){\n  this.size = size;\n  this.snake1 = new Snake([Math.floor(size[0]/2), Math.floor(size[1]/2)]);\n  this.snake2 = new Snake([Math.floor(size[0]/2) + 1, Math.floor(size[1]/2)]);\n  this.apple = [Math.floor(Math.random() * size[0]),\n    Math.floor(Math.random() * size[1])];\n  this.score = 0;\n};\n\nBoard.prototype.move = function (direction) {\n  var snake1Dirs = [\"N\",\"E\",\"W\",\"S\"];\n  if(snake1Dirs.indexOf(direction) !== -1 ){\n    this.snake1.turn(direction);\n  }else{\n    this.snake2.turn(direction);\n  }\n};\n\nBoard.prototype.render = function () {\n  this.snake1.move();\n  this.snake2.move();\n\n  try {\n    this.snake1.harakiri();\n  }catch(e){\n    throw new Error(\"Snake1 dead!\");\n  }\n  try {\n    this.snake2.harakiri();\n  }catch(e){\n    throw new Error(\"Snake2 dead!\");\n  }\n\n  try {\n  this.snakeOutOfBounds(this.snake1);\n  }catch(e){\n    throw new Error(\"Snake1 Out of Bounds!\");\n  }\n\n  try {\n    this.snakeOutOfBounds(this.snake2);\n  }catch(e){\n    throw new Error(\"Snake2 Out of Bounds!\");\n  }\n\n  try {\n    this.snakeCrossing(this.snake1, this.snake2);\n  }catch(e){\n    throw new Error(\"Snake1 ran into snake2!\");\n  }\n\n  try {\n    this.snakeCrossing(this.snake2, this.snake1);\n  }catch(e){\n    throw new Error(\"Snake2 ran into snake1!\");\n  }\n\n  this.ateApple(this.snake1);\n  this.ateApple(this.snake2);\n\n  return this.draw();\n};\n\nBoard.prototype.snakeCrossing = function (snake1, snake2) {\n  var head = snake1.segments[0];\n  snake2.segments.forEach(function(el, idx){\n    if(idx > 0){\n      if(head[0] === el[0] && head[1] === el[1]){\n        throw new Error(\"Snake dead!\");\n      }\n    }\n  });\n};\n\nBoard.prototype.ateApple = function (snake) {\n  if (snake.segments[0][0] === this.apple[0] &&\n        snake.segments[0][1] === this.apple[1]){\n    // snake.score += 10;\n    snake.grow();\n    this.regenerateApple();\n  }\n};\n\nBoard.prototype.reset = function () {\n  this.snake1 = new Snake([Math.floor(this.size[0]/2),\n    Math.floor(this.size[1]/2)]);\n  this.snake2 = new Snake([Math.floor(this.size[0]/2) + 1,\n    Math.floor(this.size[1]/2)]);\n  this.apple = [Math.floor(Math.random() * this.size[0]),\n    Math.floor(Math.random() * this.size[1])];\n  this.score = 0;\n};\n\nBoard.prototype.snakeOutOfBounds = function (snake) {\n  if (snake.segments[0][0] > this.size[0] ||\n    snake.segments[0][0] < 0 ||\n    snake.segments[0][1] > this.size[1] ||\n    snake.segments[0][1] < 0){\n    throw new Error(\"Snake out of bounds!\");\n  }\n};\n\nBoard.prototype.draw = function () {\n  return {snakeone: this.snake1.segments,\n          snaketwo: this.snake2.segments,\n          apple: this.apple};\n};\n\nBoard.prototype.regenerateApple = function () {\n  this.apple = [Math.floor(Math.random() * this.size[0]),\n    Math.floor(Math.random() * this.size[1])];\n};\n\nmodule.exports = Board;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/snake.js\n ** module id = 2\n ** module chunks = 0\n **/"],"sourceRoot":""}